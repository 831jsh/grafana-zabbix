{"version":3,"sources":["../../src/panel-triggers/migrations.js"],"names":["migratePanelSchema","panel","schemaVersion","getSchemaVersion","datasources","datasource","targets","triggers"],"mappings":";;;;;AAAO,WAASA,kBAAT,CAA4BC,KAA5B,EAAmC;AACxC,QAAMC,gBAAgBC,iBAAiBF,KAAjB,CAAtB;AACA,YAAQC,aAAR;AACE,WAAK,CAAL;AACED,cAAMG,WAAN,GAAoB,CAACH,MAAMI,UAAP,CAApB;AACAJ,cAAMK,OAAN,CAAcL,MAAMG,WAAN,CAAkB,CAAlB,CAAd,IAAsCH,MAAMM,QAA5C;AACA;AAJJ;;AAOA,WAAON,KAAP;AACD;;gCAVeD,kB;;AAYhB,WAASG,gBAAT,CAA0BF,KAA1B,EAAiC;AAC/B,WAAOA,MAAMC,aAAN,IAAuB,CAA9B;AACD","file":"migrations.js","sourcesContent":["export function migratePanelSchema(panel) {\n  const schemaVersion = getSchemaVersion(panel);\n  switch (schemaVersion) {\n    case 1:\n      panel.datasources = [panel.datasource];\n      panel.targets[panel.datasources[0]] = panel.triggers;\n      break;\n  }\n\n  return panel;\n}\n\nfunction getSchemaVersion(panel) {\n  return panel.schemaVersion || 1;\n}\n"]}